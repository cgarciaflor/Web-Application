<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object Detection</title>
</head>
<body>
    <h1>Object Detection</h1>
    <input type="file" id="fileInput">
    <button onclick="detectObjects()">Detect Objects</button>
    <div id="result"></div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function detectObjects() {
            var fileInput = document.getElementById('fileInput');
            var file = fileInput.files[0];
            var form = new FormData();
            form.append("imageFile", file, "file");

            var settings = {
                "url": "https://api.cloudmersive.com/image/recognize/detect-objects",
                "method": "POST",
                "timeout": 0,
                "headers": {
                    "Apikey": "f647df10-dfea-4c71-97d3-7e95052cf017"
                },
                "processData": false,
                "mimeType": "multipart/form-data",
                "contentType": false,
                "data": form
            };

            $.ajax(settings).done(function (response) {
                console.log(response); // Print the JSON response to the console
                displayResults(response);
            }).fail(function (jqXHR, textStatus, errorThrown) {
                console.log("Error:", textStatus, errorThrown);
            });
        }

        function displayResults(response) {
            var resultDiv = document.getElementById('result');
            resultDiv.textContent = JSON.stringify(response, null, 2); // Print entire JSON response
        }
    </script>
</body>
</html>
